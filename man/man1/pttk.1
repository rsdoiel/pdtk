.\" Automatically generated by Pandoc 2.17.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "pttk" "1" "July, 22, 2022" "pttk user manual" ""
.hy
.SH NAME
.PP
pttk - a writers tool kit for static site generation using Pandoc
.SH SYNOPSIS
.PP
pttk OPTIONS verb [VERB_OPTIONS] [-- [PANDOC_OPTIONS] \&...
]
.SH DESCRIPTION
.PP
pttk is a toolkit for writing.
The main focus is on static site generation with Pandoc.
The tool kit provides those missing elements from a deconstructed
content management system that Pandoc does not (possibly should not)
provide.
Using pttk with Pandoc should provide the core features expected in
producing a website or blog in the early 21st century.
These include preprocessor called \[lq]prep\[rq] which lets you take a
JSON file and transform it into Markdown front matter that is directly
passed to Pandoc for processing.
You might want to do this for things like generating a CITATION.cff or
an about page from a codemeta.json.
You might want to generate BibTeX from your Markdown pages front matter
you collected.
pttk includes a tool called \[lq]blogit\[rq] that manages taking a
Markdown source document and placing it in a blog directory structure
while maintaining a blogs metadata in a \[lq]blog.json\[rq] file.
It includes a tool, \[lq]rss\[rq], that generates RSS files for a
website or blog.
There is even a localhost web server for previewing content called
\[lq]ws\[rq].
All these tools are easily scripted via a Makefile or your favorite
programming language (e.g.\ Python, Lua, Oberon-07, Go).
.PP
\[lq]Verbs\[rq] are the way you select the tool you want to work with in
the tool kit, e.g.\ \[lq]prep\[rq], \[lq]blogit\[rq], \[lq]rss\[rq] or
\[lq]ws\[rq].
.SS Meet the VERBS
.PP
pttk tools are accessed through \[lq]verbs\[rq].
These \[lq]verbs\[rq] currently include the following.
.TP
\f[B]help\f[R]
Display this help page.
.TP
\f[B]blogit\f[R]
Renders a blog directory structure by \[lq]importing\[rq] Markdown
documents or updating existing ones.
It maintains a blog.json document collecting metadata and supporting RSS
rendering.
.TP
\f[B]include\f[R]
A preprocessor of doing recursive includes using an include directive
like \f[V]#include(myfile.md);\f[R]
.TP
\f[B]prep\f[R]
Preprocess JSON or YAML into YAML front matter and run through Pandoc
.TP
\f[B]rss\f[R]
Renders RSS feeds from the contents of a blog.json document
.TP
\f[B]sitemap\f[R]
Renders sitemap.xml files for a static website
.TP
\f[B]ws\f[R]
Runs a simple static web server for previewing content in your web
browser
.TP
\f[B]gs\f[R]
Run a simlpe static gopher server for previewing content in your gopher
client
.SH OPTIONS
.TP
-help
display usage
.TP
-license
display license
.TP
-version
display version
.SH EXAMPLES
.SS blogit
.PP
Adding a blog \[lq]first-post.md\[rq] to \[lq]myblog\[rq].
.IP
.nf
\f[C]
    pttk blogit myblog $HOME/Documents/first-post.md
\f[R]
.fi
.PP
Adding/Updating the \[lq]first-post.md\[rq] on \[lq]2022-07-22\[rq]
.IP
.nf
\f[C]
    pttk blogit myblog $HOME/Documents/first-post.md \[dq]2022-07-22\[dq]
\f[R]
.fi
.PP
Added additional material for posts on \[lq]2022-07-22\[rq]
.IP
.nf
\f[C]
    pttk blogit myblog $HOME/Documents/charts/my-graph.svg \[dq]2022-07-22\[dq]
\f[R]
.fi
.PP
Refreshing the blog\[cq]s blog.json file.
.IP
.nf
\f[C]
    pttk blogit myblog
\f[R]
.fi
.SS prep
.PP
In this example we have a JSON object document called
\[lq]example.json\[rq] and a Pandoc template called
\[lq]example.tmpl\[rq].
A redirect \[lq]\f[V]<\f[R]\[rq] is used to pipe the content of
\[lq]example.json\[rq] into the command line tool pttk.
.IP
.nf
\f[C]
    pttk prep -- --template example.tmpl < example.json
\f[R]
.fi
.PP
Render example.json as Markdown document.
We need to use Pandoc\[cq]s own options of \[lq]-s\[rq] (stand alone)
and \[lq]-t\[rq] (to tell Pandoc the output format)
.IP
.nf
\f[C]
    pttk prep -- -s -t markdown < example.json
\f[R]
.fi
.PP
Process a \[lq]codemeta.json\[rq] file with \[lq]codemeta-md.tmpl\[rq]
to produce an about page in Markdown via Pandoc\[cq]s template
processing (the \[lq]codemeta-md.tmpl\[rq] is a Pandoc template marked
up to produce Markdown output).
.IP
.nf
\f[C]
    pttk prep -i codemeta.json -o about.md \[rs]
        -- --template codemeta-md.tmpl
\f[R]
.fi
.PP
Using pttk to manage blog content with the \[lq]blogit\[rq] verb.
.SS rss
.PP
Using pttk to generate RSS for \[lq]myblog\[rq]
.IP
.nf
\f[C]
    pttk rss myblog
\f[R]
.fi
.SS sitemap
.PP
Generating a sitemap in a current directory
.IP
.nf
\f[C]
    pttk sitemap .
\f[R]
.fi
.SS ws
.PP
Running a static web server to view rendering site
.IP
.nf
\f[C]
    pttk ws $HOME/Sites/myblog
\f[R]
.fi
.SS gs
.PP
Running a static gopher server to view rendering site
.SH SEE ALSO
.IP \[bu] 2
manual pages for pttk-prep, pttk-blogit, pttk-rss, pttk-ws
.IP \[bu] 2
pttk website at <https://rsdoiel.github.io/pttk>
.IP \[bu] 2
The source code is available from <https://github.com/rsdoiel/pttk>
.SH AUTHORS
R. S. Doiel.
